"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _axios = _interopRequireDefault(require("axios"));
var _fs = _interopRequireDefault(require("mz/fs.js"));
var _path = _interopRequireDefault(require("path"));
var _debug = _interopRequireDefault(require("debug"));
var _os = _interopRequireDefault(require("os"));
var _utils = require("./lib/utils.js");
var _sourceLoader = require("./lib/sourceLoader.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const httpDebug = (0, _debug.default)('page-loader:http');
const osDebug = (0, _debug.default)('page-loader:os');
const pathDebug = (0, _debug.default)('page-loader:path');
const loaderDebug = (0, _debug.default)('page-loader:loader');
require('axios-debug-log/enable');
var _default = (address, dir = '.', task = undefined) => {
  let filePageName;
  let filesDir;
  let tempDir;
  return Promise.resolve().then(() => (0, _utils.getFileName)(address)).then(filename => {
    filePageName = filename;
    return true;
  }).then(() => _fs.default.mkdtemp(`${_os.default.tmpdir()}${_path.default.sep}`)).then(tmpPath => {
    tempDir = tmpPath;
    filesDir = _path.default.resolve(tempDir, `${filePageName}_files`);
  }).then(() => _axios.default.get(address)).then(response => {
    loaderDebug(`address: '${address}'`);
    loaderDebug(`output: '${dir}'`);
    httpDebug('Page have been loaded.');
    const page = (0, _utils.setLocalSource)(response.data, `${filePageName}_files`, address);
    loaderDebug('Links have been replaced to local files.');
    const promisePageSave = _fs.default.writeFile(_path.default.resolve(tempDir, `${filePageName}.html`), page).then(() => osDebug('Page have been saved.'));
    const promiseFilesSave = _fs.default.mkdir(filesDir).then(() => osDebug(`Dir '${filesDir}' created.`)).then(() => (0, _sourceLoader.sourceLoader)(response.data, address, task)).then(files => {
      const promises = files.map(file => {
        const filePath = _path.default.resolve(filesDir, file.pathSave);
        return _fs.default.writeFile(filePath, file.data).then(() => {
          osDebug(`File saved '${file.pathSave}'`);
          pathDebug(`path: '${filePath}'`);
          return file.url;
        });
      });
      return Promise.all(promises);
    }).then(() => loaderDebug('Resources have been saved.'));
    return Promise.all([promiseFilesSave, promisePageSave]).then(() => _fs.default.readFile(_path.default.resolve(tempDir, `${filePageName}.html`))).then(data => _fs.default.writeFile(_path.default.resolve(dir, `${filePageName}.html`), data)).then(() => _fs.default.mkdir(_path.default.resolve(dir, `${filePageName}_files`))).then(() => _fs.default.readdir(filesDir)).then(files => {
      const promises = files.map(file => {
        const name = _path.default.basename(file);
        return _fs.default.readFile(_path.default.resolve(filesDir, file)).then(data => _fs.default.writeFile(_path.default.resolve(dir, `${filePageName}_files`, name), data));
      });
      return Promise.all(promises);
    });
  }).then(() => loaderDebug('Resources have been saved.'));
};
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXhpb3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mcyIsIl9wYXRoIiwiX2RlYnVnIiwiX29zIiwiX3V0aWxzIiwiX3NvdXJjZUxvYWRlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaHR0cERlYnVnIiwiZGVidWciLCJvc0RlYnVnIiwicGF0aERlYnVnIiwibG9hZGVyRGVidWciLCJfZGVmYXVsdCIsImFkZHJlc3MiLCJkaXIiLCJ0YXNrIiwidW5kZWZpbmVkIiwiZmlsZVBhZ2VOYW1lIiwiZmlsZXNEaXIiLCJ0ZW1wRGlyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiZ2V0RmlsZU5hbWUiLCJmaWxlbmFtZSIsImZzIiwibWtkdGVtcCIsIm9zIiwidG1wZGlyIiwicGF0aCIsInNlcCIsInRtcFBhdGgiLCJheGlvcyIsImdldCIsInJlc3BvbnNlIiwicGFnZSIsInNldExvY2FsU291cmNlIiwiZGF0YSIsInByb21pc2VQYWdlU2F2ZSIsIndyaXRlRmlsZSIsInByb21pc2VGaWxlc1NhdmUiLCJta2RpciIsInNvdXJjZUxvYWRlciIsImZpbGVzIiwicHJvbWlzZXMiLCJtYXAiLCJmaWxlIiwiZmlsZVBhdGgiLCJwYXRoU2F2ZSIsInVybCIsImFsbCIsInJlYWRGaWxlIiwicmVhZGRpciIsIm5hbWUiLCJiYXNlbmFtZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGZzIGZyb20gJ216L2ZzLmpzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XHJcbmltcG9ydCBvcyBmcm9tICdvcyc7XHJcblxyXG5pbXBvcnQge2dldEZpbGVOYW1lLCBzZXRMb2NhbFNvdXJjZX0gZnJvbSBcIi4vbGliL3V0aWxzLmpzXCI7XHJcbmltcG9ydCB7c291cmNlTG9hZGVyfSBmcm9tIFwiLi9saWIvc291cmNlTG9hZGVyLmpzXCI7XHJcblxyXG5jb25zdCBodHRwRGVidWcgPSBkZWJ1ZygncGFnZS1sb2FkZXI6aHR0cCcpO1xyXG5jb25zdCBvc0RlYnVnID0gZGVidWcoJ3BhZ2UtbG9hZGVyOm9zJyk7XHJcbmNvbnN0IHBhdGhEZWJ1ZyA9IGRlYnVnKCdwYWdlLWxvYWRlcjpwYXRoJyk7XHJcbmNvbnN0IGxvYWRlckRlYnVnID0gZGVidWcoJ3BhZ2UtbG9hZGVyOmxvYWRlcicpO1xyXG5cclxucmVxdWlyZSgnYXhpb3MtZGVidWctbG9nL2VuYWJsZScpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGFkZHJlc3MsIGRpciA9ICcuJywgdGFzayA9IHVuZGVmaW5lZCkgPT4ge1xyXG4gIGxldCBmaWxlUGFnZU5hbWU7XHJcbiAgbGV0IGZpbGVzRGlyO1xyXG4gIGxldCB0ZW1wRGlyO1xyXG5cclxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIC50aGVuKCgpID0+IGdldEZpbGVOYW1lKGFkZHJlc3MpKVxyXG4gICAgLnRoZW4oKGZpbGVuYW1lKSA9PiB7XHJcbiAgICAgIGZpbGVQYWdlTmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiBmcy5ta2R0ZW1wKGAke29zLnRtcGRpcigpfSR7cGF0aC5zZXB9YCkpXHJcbiAgICAudGhlbigodG1wUGF0aCkgPT4ge1xyXG4gICAgICB0ZW1wRGlyID0gdG1wUGF0aDtcclxuICAgICAgZmlsZXNEaXIgPSBwYXRoLnJlc29sdmUodGVtcERpciwgYCR7ZmlsZVBhZ2VOYW1lfV9maWxlc2ApO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IGF4aW9zLmdldChhZGRyZXNzKSlcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBsb2FkZXJEZWJ1ZyhgYWRkcmVzczogJyR7YWRkcmVzc30nYCk7XHJcbiAgICAgIGxvYWRlckRlYnVnKGBvdXRwdXQ6ICcke2Rpcn0nYCk7XHJcbiAgICAgIGh0dHBEZWJ1ZygnUGFnZSBoYXZlIGJlZW4gbG9hZGVkLicpO1xyXG5cclxuICAgICAgY29uc3QgcGFnZSA9IHNldExvY2FsU291cmNlKHJlc3BvbnNlLmRhdGEsIGAke2ZpbGVQYWdlTmFtZX1fZmlsZXNgLCBhZGRyZXNzKTtcclxuICAgICAgbG9hZGVyRGVidWcoJ0xpbmtzIGhhdmUgYmVlbiByZXBsYWNlZCB0byBsb2NhbCBmaWxlcy4nKTtcclxuICAgICAgY29uc3QgcHJvbWlzZVBhZ2VTYXZlID0gZnMud3JpdGVGaWxlKHBhdGgucmVzb2x2ZSh0ZW1wRGlyLCBgJHtmaWxlUGFnZU5hbWV9Lmh0bWxgKSwgcGFnZSlcclxuICAgICAgICAudGhlbigoKSA9PiBvc0RlYnVnKCdQYWdlIGhhdmUgYmVlbiBzYXZlZC4nKSk7XHJcbiAgICAgIGNvbnN0IHByb21pc2VGaWxlc1NhdmUgPSBmcy5ta2RpcihmaWxlc0RpcilcclxuICAgICAgICAudGhlbigoKSA9PiBvc0RlYnVnKGBEaXIgJyR7ZmlsZXNEaXJ9JyBjcmVhdGVkLmApKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHNvdXJjZUxvYWRlcihyZXNwb25zZS5kYXRhLCBhZGRyZXNzLCB0YXNrKSlcclxuICAgICAgICAudGhlbigoZmlsZXMpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gZmlsZXMubWFwKChmaWxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5yZXNvbHZlKGZpbGVzRGlyLCBmaWxlLnBhdGhTYXZlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZzLndyaXRlRmlsZShmaWxlUGF0aCwgZmlsZS5kYXRhKVxyXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG9zRGVidWcoYEZpbGUgc2F2ZWQgJyR7ZmlsZS5wYXRoU2F2ZX0nYCk7XHJcbiAgICAgICAgICAgICAgICBwYXRoRGVidWcoYHBhdGg6ICcke2ZpbGVQYXRofSdgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlLnVybDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IGxvYWRlckRlYnVnKCdSZXNvdXJjZXMgaGF2ZSBiZWVuIHNhdmVkLicpKTtcclxuXHJcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbcHJvbWlzZUZpbGVzU2F2ZSwgcHJvbWlzZVBhZ2VTYXZlXSlcclxuICAgICAgICAudGhlbigoKSA9PiBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUodGVtcERpciwgYCR7ZmlsZVBhZ2VOYW1lfS5odG1sYCkpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4gZnMud3JpdGVGaWxlKHBhdGgucmVzb2x2ZShkaXIsIGAke2ZpbGVQYWdlTmFtZX0uaHRtbGApLCBkYXRhKSlcclxuICAgICAgICAudGhlbigoKSA9PiBmcy5ta2RpcihwYXRoLnJlc29sdmUoZGlyLCBgJHtmaWxlUGFnZU5hbWV9X2ZpbGVzYCkpKVxyXG4gICAgICAgIC50aGVuKCgpID0+IGZzLnJlYWRkaXIoZmlsZXNEaXIpKVxyXG4gICAgICAgIC50aGVuKChmaWxlcykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUoZmlsZXNEaXIsIGZpbGUpKVxyXG4gICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gZnMud3JpdGVGaWxlKHBhdGgucmVzb2x2ZShkaXIsIGAke2ZpbGVQYWdlTmFtZX1fZmlsZXNgLCBuYW1lKSwgZGF0YSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IGxvYWRlckRlYnVnKCdSZXNvdXJjZXMgaGF2ZSBiZWVuIHNhdmVkLicpKTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEdBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFLLE1BQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLGFBQUEsR0FBQU4sT0FBQTtBQUFtRCxTQUFBRCx1QkFBQVEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVuRCxNQUFNRyxTQUFTLEdBQUcsSUFBQUMsY0FBSyxFQUFDLGtCQUFrQixDQUFDO0FBQzNDLE1BQU1DLE9BQU8sR0FBRyxJQUFBRCxjQUFLLEVBQUMsZ0JBQWdCLENBQUM7QUFDdkMsTUFBTUUsU0FBUyxHQUFHLElBQUFGLGNBQUssRUFBQyxrQkFBa0IsQ0FBQztBQUMzQyxNQUFNRyxXQUFXLEdBQUcsSUFBQUgsY0FBSyxFQUFDLG9CQUFvQixDQUFDO0FBRS9DWCxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBRW5CQSxDQUFDQyxPQUFPLEVBQUVDLEdBQUcsR0FBRyxHQUFHLEVBQUVDLElBQUksR0FBR0MsU0FBUyxLQUFLO0VBQ3ZELElBQUlDLFlBQVk7RUFDaEIsSUFBSUMsUUFBUTtFQUNaLElBQUlDLE9BQU87RUFFWCxPQUFPQyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFD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